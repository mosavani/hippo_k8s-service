# service-settings/default/worker-values.yml
# hippo-worker â€” internal background processor (dev/staging)

service:
  replicaCount: 1
  type: ClusterIP
  port: 9090
  targetPort: 9090
  liveness:
    enabled: true
    path: /health
    initialDelaySeconds: 20
    periodSeconds: 60
    failureThreshold: 3
  readiness:
    enabled: true
    path: /ready
    initialDelaySeconds: 15
    periodSeconds: 30
    failureThreshold: 3

ingress:
  enabled: false

hpa:
  enabled: true
  minReplicas: 1
  maxReplicas: 8
  targetMemoryUtilizationPercentage: 75
  scaleDownStabilizationWindowSeconds: 600

pdb:
  enabled: true
  minAvailable: 1

affinity:
  podAntiAffinity: soft

networkPolicy:
  enabled: true       # Same-namespace only (default)

resources:
  requests:
    cpu: 500m
    memory: 512Mi
  limits:
    memory: 1Gi

env:
  - name: APP_ENV
    value: development
  - name: WORKER_CONCURRENCY
    value: "4"
